---
- name: Install Virtualization on Fedora
  become: true
  dnf:
    name: "@virtualization"
    state: present
  when: ansible_distribution == "Fedora"


- name: Install Virtualization on Oracle linux
  become: true
  dnf:
    name: "{{ item }}"
    state: present
  loop:
    - "@Virtualization Host"
    - "@Virtualization Client"
    - virt-install
    - virt-viewer
  when: ansible_distribution == "OracleLinux"


- name: Install Virtualization on Debian based systems
  become: true
  apt:
    name: "{{ item }}"
    state: present
  loop:
    - qemu-kvm                            # Installation of the KVM module and tools.
    - libvirt-daemon-system               # Handle virtualization management services.
    - libvirt-clients                     # Handle virtualization management services.
    - bridge-utils                        # Helps configure networking for VMs.
    - virt-manager                        # a GUI to manage virtual machines. 
  when: ansible_distribution == "Ubuntu"
